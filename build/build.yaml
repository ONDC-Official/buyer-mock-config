flows:
  - summary: Metro
    id: metro-flow-1
    shouldDispaly: true
    sessionData:
      additionalFlowStartPoint: update
      additionalFlowActive: false
    input:
      search:
        - name: Vehicle Category
          key: VehicleCategaory
          type: text
          errorText: Vehicle category is required
          defaultValue: METRO
          required: true
          summary: >-
            This attribute refers to categorizing loans based on whether they
            are intended for personal use or are meant for invoices.
        - name: Payment Tags
          key: paymentTagsSearch
          type: multiline
          defaultValue:
            BUYER_FINDER_FEES:
              display: false
              BUYER_FINDER_FEES_TYPE: percent-annualized
              BUYER_FINDER_FEES_PERCENTAGE: '1'
            SETTLEMENT_TERMS:
              display: false
              DELAY_INTEREST: 2.5
              STATIC_TERMS: ''
              OFFLINE_CONTRACT: 'true'
          errorText: Payment tags is required
          required: true
          summary: Describes tags
      search_1:
        - name: BPP ID
          key: bpp_id
          type: select
          extractionPath: '`businessPayload[]{key: bpp_id, value: bpp_id}`'
          defaultValueExpression: data.session.bpp_id
          errorText: BPP ID is required
          required: true
          summary: It explains the Explains the subscriber of the Seller App (BPP).
        - name: BPP URI
          key: bpp_uri
          type: select
          extractionPath: >-
            `businessPayload[?(bpp_id === '${formData.bpp_id ||
            data.session.bpp_id}')]{key: bpp_uri, value: bpp_uri}`
          errorText: BPP URI is required
          nrequired: true
          summary: >-
            The subscriber URL of the Seller App (BPP) is the endpoint that
            accepts callbacks from the Buyer App (BAP).
        - name: Station Code 1
          key: startPoint
          type: select
          extractionPath: >-
            `businessPayload[?(bpp_id === '${formData.bpp_id ||
            data.session.bpp_id}')].location[]{key: locationName, value:
            locationName}`
          errorText: Station 1 is required
          required: true
          summary: Station 1 is required
        - name: Station Code 2
          key: endPoint
          type: select
          extractionPath: >-
            `businessPayload[?(bpp_id === '${formData.bpp_id ||
            data.session.bpp_id}')].location[]{key: locationName, value:
            locationName}`
          errorText: Station 2 is required
          required: true
          summary: Station 2 is required
      select:
        - name: Item ID
          key: itemId
          type: select
          extractionPath: >-
            `businessPayload[?(bpp_id === '${formData.bpp_id ||
            data.session.bpp_id }')].items[]{key: id, value: id}`
          required: true
          summary: Item Id revieved from the provider
        - name: Quantity
          key: quantity
          type: text
          errorText: Quantity is required
          required: true
          summary: Quantity  revieved from the provider
        - name: Provider Id
          key: providerId
          type: text
          defaultValueExpression: data.session.provider_id
          errorText: Provider is required
          required: true
          summary: revieved from the provider
      init:
        - name: Provider ID
          key: providerId
          type: text
          errorText: Provider Id is required
          required: true
          summary: Provider Id revieved from the provide
        - name: Payment Status
          key: paymentStatus
          type: select
          defaultValue: NOT-PAID
          defaultOptions:
            - key: PAID
              value: PAID
            - key: NOT-PAID
              value: NOT-PAID
          errorText: Please select a field
          required: true
          summary: Starting stop of the journey location
        - name: Payment Type
          key: paymentType
          type: select
          defaultValue: PRE-ORDER
          defaultOptions:
            - key: PRE-ORDER
              value: PRE-ORDER
            - key: PRE-FULFILLMENT
              value: PRE-FULFILLMENT
            - key: ON-FULFILLMENT
              value: ON-FULFILLMENT
            - key: POST-FULFILLMENT
              value: POST-FULFILLMENT
            - key: ON-ORDER
              value: ON-ORDER
          errorText: Please select a field
          required: true
          summary: Starting stop of the journey location
        - name: Payment Tags
          key: paymentTagsInit
          type: multiline
          defaultValue:
            BUYER_FINDER_FEES:
              BUYER_FINDER_FEES_TYPE: percent-annualized
              BUYER_FINDER_FEES_PERCENTAGE: '1'
            SETTLEMENT_TERMS:
              DELAY_INTEREST: 2.5
              STATIC_TERMS: >-
                https://bap.credit.becknprotocol.io/personal-banking/loans/personal-loan
          errorText: Payment Tags is required
          required: true
          summary: Starting stop of the journey location
      confirm:
        - name: Payment Status
          key: paymentStatusConfirm
          type: select
          defaultValue: PAID
          defaultOptions:
            - key: PAID
              value: PAID
            - key: NOT-PAID
              value: NOT-PAID
          errorText: Please select a field
          required: true
          summary: Starting stop of the journey location
        - name: Payment Type
          key: paymentTypeConfirm
          type: select
          defaultValue: PRE-ORDER
          defaultOptions:
            - key: PRE-ORDER
              value: PRE-ORDER
            - key: PRE-FULFILLMENT
              value: PRE-FULFILLMENT
            - key: ON-FULFILLMENT
              value: ON-FULFILLMENT
            - key: POST-FULFILLMENT
              value: POST-FULFILLMENT
            - key: ON-ORDER
              value: ON-ORDER
          errorText: Please select a field
          required: true
          summary: Starting stop of the journey location
      status:
        - name: Order Id
          key: orderId
          type: text
          errorText: Order Id is required
          required: true
          summary: Order Id revieved after form submission
    calls:
      search:
        type: search
        target: GATEWAY
        executed: false
        shouldRender: true
        config: search
        nextRequest: on_search
        preRequest: null
        isCollapsed: true
      on_search:
        type: on_search
        executed: false
        shouldRender: false
        config: on_search
        nextRequest: search_1
        preRequest: search
        isCollapsed: true
      search_1:
        type: search
        target: NP
        executed: false
        shouldRender: false
        config: search_1
        nextRequest: on_search_1
        preRequest: on_search
        isCollapsed: true
      on_search_1:
        type: on_search
        executed: false
        shouldRender: false
        config: on_search_1
        nextRequest: select
        preRequest: search_1
        isCollapsed: true
      select:
        type: select
        target: NP
        executed: false
        shouldRender: false
        config: select
        nextRequest: on_select
        preRequest: on_search_1
        isCollapsed: true
      on_select:
        type: on_select
        executed: false
        shouldRender: false
        config: on_select
        nextRequest: init
        preRequest: select
        isCollapsed: true
      init:
        type: init
        target: NP
        executed: false
        shouldRender: false
        config: init
        nextRequest: on_init
        preRequest: on_select
        isCollapsed: true
      on_init:
        type: on_init
        executed: false
        shouldRender: false
        config: on_init
        nextRequest: confirm
        preRequest: init
        isCollapsed: true
      confirm:
        type: confirm
        target: NP
        executed: false
        shouldRender: false
        config: confirm
        nextRequest: on_confirm
        preRequest: on_init
        isCollapsed: true
      on_confirm:
        type: on_confirm
        executed: false
        shouldRender: false
        config: on_confirm
        nextRequest: status
        preRequest: confirm
        isCollapsed: true
      status:
        type: status
        target: NP
        executed: false
        shouldRender: false
        config: status
        nextRequest: on_status
        preRequest: on_confirm
        isCollapsed: true
      on_status:
        type: on_status
        executed: false
        shouldRender: false
        config: on_status
        nextRequest: null
        preRequest: status
        isCollapsed: true
